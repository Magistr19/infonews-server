{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?1330","webpack:///./src/App.vue","webpack:///./src/Api/categoriesApi.js","webpack:///./src/Api/postsApi.js","webpack:///./src/Api/Api.js","webpack:///./src/Api/usersApi.js","webpack:///./src/store/modules/categoriesStore.js","webpack:///./src/store/modules/postsStore.js","webpack:///./src/store/modules/usersStore.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["App","initApp","methods","extends_default","Object","vuex_esm","logOut","selectortype_template_index_0_src_App","render","_vm","this","_h","$createElement","_c","_self","attrs","dark","thisUser","fixed","app","model","value","callback","$$v","drawer","expression","role","to","flat","_v","_e","on","click","$event","stopPropagation","staticClass","_s","name","color","nativeOn","signOut","mode","staticRenderFns","src_App","__webpack_require__","normalizeComponent","Api_categoriesApi","getAllCategories","axios_default","a","get","then","response","data","catch","e","console","error","addNewCategory","newCategory","post","log","editCategory","editedCategory","put","removeCategory","id","delete","postsApi_objectToFormData","fd","FormData","append","title","shortcat","picture","views","content","stringify_default","categories","Api","categoriesApi","postsApi","getPostById","getAllPostsPreview","token","headers","addNewPost","res","Error","message","editPost","removePost","usersApi","getCurrentUser","getAllUsers","createNewUser","userData","deleteAuthor","logIn","authData","loadFiles","file","categoriesStore","namespaced","state","selectedCategory","link","subcategories","getters","_ref","_ref2","mutations","actions","context","postsStore","postsList","selectedPost","subcategory","_id","edit","posts","postImage","img","File","URL","createObjectURL","postCategory","postSubcategory","updateSelectedPost","update","setSelectedPost","setPostsList","resetPost","submitPost","_ref3","dispatch","_ref4","commit","_ref5","store","_ref6","_ref7","choosePost","_ref8","postId","usersStore","currentUser","login","users","clearUser","setUser","user","getThisUser","createAuthor","vue_esm","use","Store","validatorRules","v","setToken","localStorage","setItem","clearToken","removeItem","modules","СategoriesStore","PostsStore","UsersStore","promise_default","resolve","getItem","blob","formData","vue_router_esm","router","routes","path","component","bind","redirect","privatePages","beforeResolve","from","next","userRole","includes","src_router","vueWysiwyg_default","image","uploadURL","vuetify_default","theme","primary","secondary","accent","info","success","warning","config","productionTip","el","components","template"],"mappings":"6KAmCAA,kCAKA,4BAIAC,8CAIA,aACAC,QAAAC,OAAAC,OAAAC,EAAA,EAAAD,EAAA,UACA,oCAEAE,2BACA,8CAMA,SAIA,OC5DAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,OAAOC,KAAA,UAAeP,EAAAQ,SAAA,KAAAJ,EAAA,uBAAgDE,OAAOG,MAAA,QAAAC,IAAA,OAA4BC,OAAQC,MAAAZ,EAAA,OAAAa,SAAA,SAAAC,GAA4Cd,EAAAe,OAAAD,GAAeE,WAAA,YAAsBZ,EAAA,UAAAA,EAAA,yBAAAJ,EAAAQ,SAAAS,KAAAb,EAAA,SAA6EE,OAAOY,GAAA,oBAAAC,KAAA,UAAwCnB,EAAAoB,GAAA,aAAApB,EAAAqB,MAAA,GAAAjB,EAAA,eAAAA,EAAA,SAAiEE,OAAOY,GAAA,eAAAC,KAAA,UAAmCnB,EAAAoB,GAAA,qBAAAhB,EAAA,eAAAA,EAAA,SAA4DE,OAAOY,GAAA,mBAAAC,KAAA,UAAuCnB,EAAAoB,GAAA,mBAAAhB,EAAA,yBAAAJ,EAAAQ,SAAAS,KAAAb,EAAA,SAA0FE,OAAOY,GAAA,iBAAAC,KAAA,UAAqCnB,EAAAoB,GAAA,YAAApB,EAAAqB,MAAA,WAAArB,EAAAqB,KAAAjB,EAAA,aAAmEE,OAAOI,IAAA,SAAaV,EAAAQ,SAAA,KAAAJ,EAAA,uBAAgDkB,IAAIC,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBzB,EAAAe,QAAAf,EAAAe,WAA2Bf,EAAAqB,KAAAjB,EAAA,mBAAAA,EAAA,QAA4CsB,YAAA,eAAyB1B,EAAAoB,GAAA,UAAAhB,EAAA,QAA8BsB,YAAA,cAAwB1B,EAAAoB,GAAA,WAAAhB,EAAA,QAAAJ,EAAAoB,GAAA,qBAAAhB,EAAA,YAAAJ,EAAA,SAAAI,EAAA,mBAAAJ,EAAAoB,GAAApB,EAAA2B,GAAA3B,EAAAQ,SAAAoB,SAAA5B,EAAAqB,KAAArB,EAAAQ,SAAA,KAAAJ,EAAA,SAA4LE,OAAOuB,MAAA,WAAkBC,UAAWP,MAAA,SAAAC,GAAyB,OAAAxB,EAAA+B,QAAAP,OAA6BxB,EAAAoB,GAAA,WAAApB,EAAAqB,MAAA,GAAAjB,EAAA,aAAAA,EAAA,wBAA4EE,OAAO0B,KAAA,YAAiB5B,EAAA,uBAAAA,EAAA,YAA2CE,OAAOI,IAAA,SAAaN,EAAA,QAAAJ,EAAAoB,GAAA,mBAEhgDa,oBCqBjBC,EAvBAC,EAAA,OAcAC,CACA7C,EACAO,GATA,EAEA,KAEA,KAEA,MAUA,8DCKAuC,GAzBEC,iBAFoB,WAGlB,OAAOC,EAAAC,EAAMC,IAAI,sBACdC,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAyB,OAAlBC,QAAQC,MAAMF,SAGhCG,eARoB,SAQJC,GACd,OAAOX,EAAAC,EAAMW,KAAK,mBAAoBD,GACnCR,KAAK,SAAAC,GAAqC,OAAvBI,QAAQK,IAAIT,GAAkBA,EAASC,OAC1DC,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,MAG9BO,aAdoB,SAcNC,GACZ,OAAOf,EAAAC,EAAMe,IAAI,oBAAqBD,GACnCZ,KAAK,SAAAC,GAAqC,OAAvBI,QAAQK,IAAIT,GAAkBA,EAASC,OAC1DC,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,MAG9BU,eApBoB,SAoBJC,GACd,OAAOlB,EAAAC,EAAMkB,OAAN,uBAAoCD,GACxCf,KAAK,SAAAC,GAAqC,OAAvBI,QAAQK,IAAIT,GAAkBA,EAASC,OAC1DC,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,4BCvB1Ba,EAAmB,SAACR,GACxBJ,QAAQK,IAAID,GACZ,IAAMS,EAAK,IAAIC,SAOf,OANAD,EAAGE,OAAO,QAASX,EAAKY,OACxBH,EAAGE,OAAO,WAAYX,EAAKa,UAC3BJ,EAAGE,OAAO,UAAWX,EAAKc,SAC1BL,EAAGE,OAAO,QAASX,EAAKe,OACxBN,EAAGE,OAAO,UAAWX,EAAKgB,SAC1BP,EAAGE,OAAO,aAAcM,IAAejB,EAAKkB,aACrCT,GCLIU,GACXC,cAAAlC,EACAmC,UDMAC,YADe,SACFhB,GACX,OAAOlB,EAAAC,EAAMC,IAAN,aAAuBgB,GAC3Bf,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAyB,OAAlBC,QAAQC,MAAMF,SAEhC4B,mBANe,SAMKC,GAClB,OAAOpC,EAAAC,EAAMC,IAAI,iBAAmBmC,SAAWD,WAC5CjC,KAAK,SAAAC,GAA0C,OAA5BI,QAAQK,IAAIT,EAASC,MAAcD,EAASC,OAC/DC,MAAM,SAAAC,GAAyB,OAAlBC,QAAQC,MAAMF,SAEhC+B,WAXe,SAWH1B,EAAMwB,GAChB,OAAOpC,EAAAC,EAAMW,KAAK,kBAAmBQ,EAAiBR,IAASyB,SAAWD,WACvEjC,KAAK,SAAAoC,GAAA,OAAOA,EAAIlC,OAChBC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,YAElDC,SAhBe,SAgBL9B,EAAMM,EAAIkB,GAClB,OAAOpC,EAAAC,EAAMe,IAAN,iBAA2BE,EAAME,EAAiBR,IAASyB,SAAWD,WAC1EjC,KAAK,SAAAoC,GAAA,OAAOA,EAAIlC,OAChBC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,YAElDE,WArBe,SAqBHzB,GACV,OAAOlB,EAAAC,EAAMkB,OAAN,mBAAgCD,GACpCf,KAAK,SAAAoC,GAAA,OAAOA,EAAIlC,OAChBC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,aC5BlDG,UCNAC,eADe,SACCT,GACd,OAAOpC,EAAAC,EAAMC,IAAI,uBAAyBmC,SAAWD,WAClDjC,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,eAEXwC,YANe,WAOb,OAAO9C,EAAAC,EAAMC,IAAI,oBACdC,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,uBAEXyC,cAXe,SAWAC,GACb,OAAOhD,EAAAC,EAAMW,KAAK,qBAAsBoC,GACrC7C,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,YAElDQ,aAhBe,SAgBD/B,GACZ,OAAOlB,EAAAC,EAAMkB,OAAN,mBAAgCD,GACpCf,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,aDXlDS,MAJiB,SAIVC,GACL,OAAOnD,EAAAC,EAAMW,KAAK,aAAcuC,GAC7BhD,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,YAElDnF,OATiB,WAUf,OAAO0C,EAAAC,EAAMW,KAAK,eACfT,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASC,KAAKoC,YAElDW,UAdiB,SAcNC,GACT,OAAOrD,EAAAC,EAAMW,KAAK,iBAAkByC,GACjClD,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BC,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEH,SAASK,WE6B/C6C,GAjDEC,YAAY,EACZC,OACEnD,QACAoD,kBACEjC,MAAO,GACPkC,KAAM,GACNC,mBAGJC,SACE9B,WAAY,SAAA+B,GAAA,OAAAA,EAAGxD,MACfoD,iBAAkB,SAAAK,GAAA,OAAAA,EAAGL,mBAEvBM,aACAC,SACEjE,iBADO,SACWkE,GAChB,OAAOlC,EAAIC,cAAcjC,mBACtBI,KAAK,SAAAC,GACJ6D,EAAQT,MAAMnD,KAAOD,EACrBI,QAAQK,IAAI,kBAAmBoD,EAAQT,MAAMnD,QAE9CC,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,MAE9BG,eATO,SASSuD,EAAStD,GACvB,OAAOoB,EAAIC,cAActB,eAAeC,GACrCR,KAAK,SAAAC,GAEJ,OADAI,QAAQK,IAAIT,GACLA,IAERE,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,MAE9BO,aAjBO,SAiBOmD,EAASlD,GACrB,OAAOgB,EAAIC,cAAclB,aAAaC,GACnCZ,KAAK,SAAAC,GAEJ,OADAI,QAAQK,IAAIT,GACLA,IAERE,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,MAE9BU,eAzBO,SAyBSgD,EAAS/C,GACvB,OAAOa,EAAIC,cAAcf,eAAeC,GACrCf,KAAK,SAAAC,GAEJ,OADAI,QAAQK,IAAIT,GACLA,IAERE,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,QCwFlC2D,GAnIEX,YAAY,EACZC,OACEW,aACAC,cACE5C,MAAO,GACPE,QAAS,KACTD,SAAU,GACVG,QAAS,GACTD,MAAO,EACPG,YACEN,MAAO,GACPkC,KAAM,GACNW,aACE7C,MAAO,GACPkC,KAAM,KAGVY,IAAK,IAEPC,MAAM,GAERX,SACEY,MAAO,SAAAX,GAAA,OAAAA,EAAGM,WACVC,aAAc,SAAAN,GAAA,OAAAA,EAAGM,cACjBK,UAHO,SAGIjB,GACT,IAAMkB,EAAMlB,EAAMY,aAAa1C,QAC/B,OAAKgD,EACDA,aAAeC,KACjB,GAAUC,IAAIC,gBAAgBH,GAEvBA,EAJQ,IAOnBI,aAZO,SAYOtB,GACZ,OACEhC,MAAOgC,EAAMY,aAAatC,WAAWN,MACrCkC,KAAMF,EAAMY,aAAatC,WAAW4B,OAGxCqB,gBAlBO,SAkBUvB,GACf,OACEhC,MAAOgC,EAAMY,aAAatC,WAAWuC,YAAY7C,MACjDkC,KAAMF,EAAMY,aAAatC,WAAWuC,YAAYX,QAItDK,WACEiB,mBADS,SACWxB,EAAOyB,GACzBzB,EAAMY,aAAea,GAEvBC,gBAJS,SAIQ1B,EAAO5C,GACtB4C,EAAMY,aAAexD,GAEvBuE,aAPS,SAOK3B,EAAOgB,GACnBhB,EAAMW,UAAYK,GAEpBY,UAVS,SAUE5B,GACTA,EAAMY,cACJ5C,MAAO,GACPE,QAAS,KACTD,SAAU,GACVG,QAAS,GACTD,MAAO,EACPG,YACEN,MAAO,GACPkC,KAAM,GACNW,aACE7C,MAAO,GACPkC,KAAM,KAGVY,IAAK,IAEPd,EAAMe,MAAO,IAGjBP,SACEqB,WADO,SAAAC,GAC0B,IAAnBC,EAAmBD,EAAnBC,SAAU/B,EAAS8B,EAAT9B,MACtB,OAAIA,EAAMe,KACDgB,EAAS,YACbpF,KAAK,SAAAC,GAEJ,OADAoD,EAAMe,MAAO,EACNnE,IAERE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,WAE3B8C,EAAS,cACbpF,KAAK,SAAAC,GAAA,OAAYA,IACjBE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAGtCP,YAfO,SAAAsD,EAekBtE,GAAI,IAAduE,EAAcD,EAAdC,OACb,OAAO1D,EAAIE,SAASC,YAAYhB,GAC7Bf,KAAK,SAAAC,GAEJ,OADAqF,EAAO,kBAAmBrF,IACnB,IAERE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAEpCN,mBAvBO,SAAAuD,GAuByB,IAAVD,EAAUC,EAAVD,OACpB,OAAO1D,EAAIE,SAASE,mBAAmBwD,EAAMnC,MAAMpB,OAChDjC,KAAK,SAAAC,GAAA,OAAYqF,EAAO,eAAgBrF,KACxCE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAEpCH,WA5BO,SAAAsD,GA4BwB,IAAjBpC,EAAiBoC,EAAjBpC,MAAOiC,EAAUG,EAAVH,OACnB,OAAO1D,EAAIE,SAASK,WAAWkB,EAAMY,aAAcuB,EAAMnC,MAAMpB,OAC5DjC,KAAK,SAAAC,GAEJ,OADAqF,EAAO,aACArF,IAERE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAEpCC,SApCO,SAAAmD,GAoCsB,IAAjBrC,EAAiBqC,EAAjBrC,MAAOiC,EAAUI,EAAVJ,OACjB,OAAO1D,EAAIE,SAASS,SAASc,EAAMY,aAAcZ,EAAMY,aAAaE,IAAKqB,EAAMnC,MAAMpB,OAClFjC,KAAK,SAAAC,GAEJ,OADAqF,EAAO,aACArF,IAERE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAEpCE,WA5CO,SA4CKsB,EAAS/C,GACnB,OAAOa,EAAIE,SAASU,WAAWzB,GAC5Bf,KAAK,SAAAC,GAAA,OAAYA,IACjBE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAEpCqD,WAjDO,SAAAC,EAiD0BC,GAAQ,IAA3BT,EAA2BQ,EAA3BR,SAEZ,OAFuCQ,EAAjBvC,MAChBe,MAAO,EACNgB,EAAS,cAAeS,MCnErCC,GA9DE1C,YAAY,EACZC,OACEnD,QACA6F,aACE7G,KAAM,GACNX,KAAM,GACNyH,MAAO,GACP7B,IAAK,OAGTV,SACEwC,MADO,SACA5C,GACL,OAAOA,EAAMnD,MAEfpC,SAJO,SAIGuF,GACR,OAAOA,EAAM0C,cAGjBnC,WACEsC,UADS,SACE7C,GACTA,EAAM0C,aACJ7G,KAAM,GACNX,KAAM,GACNyH,MAAO,GACP7B,IAAK,OAGTgC,QATS,SASA9C,EAAO+C,GACd/C,EAAM0C,YAAcK,IAGxBvC,SACEwC,YADO,SACMvC,EAAS7B,GAEpB,OADA5B,QAAQK,IAAI,eACLkB,EAAIa,SAASC,eAAeT,GAChCjC,KAAK,SAAAoG,GAAA,OAAQtC,EAAQwB,OAAO,UAAWc,KACvCjG,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,EAAEkC,YAEhCK,YAPO,SAOMmB,GAEX,OADAzD,QAAQK,IAAI,eACLkB,EAAIa,SAASE,cACjB3C,KAAK,SAAAiG,GAAWnC,EAAQT,MAAMnD,KAAO+F,IACrC9F,MAAM,SAAAC,GAAA,OAAKC,QAAQC,MAAMF,EAAEkC,YAEhCgE,aAbO,SAaOxC,EAASjB,GACrB,OAAOjB,EAAIa,SAASG,cAAcC,GAC/B7C,KAAK,SAAAC,GAEJ,OADA6D,EAAQsB,SAAS,eACVnF,IAERE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,YAEpCQ,aArBO,SAAAY,EAqBqB3C,GAAI,IAAhBqE,EAAgB1B,EAAhB0B,SACd,OAAOxD,EAAIa,SAASK,aAAa/B,GAC9Bf,KAAK,SAAAC,GAEJ,OADAmF,EAAS,eACFnF,IAERE,MAAM,SAAAC,GAAO,MAAM,IAAIiC,MAAMjC,EAAEkC,cCrDxCiE,EAAA,EAAIC,IAAItJ,EAAA,GAED,IAAMsI,EAAQ,IAAItI,EAAA,EAAKuJ,OAC5BpD,OACEpB,MAAO,GACPyE,gBAAkB,SAAAC,GAAA,QAAOA,GAAK,uBAEhC/C,WACEgD,SADS,SACCvD,EAAOpB,GACfoB,EAAMpB,MAAQA,EACd4E,aAAaC,QAAQ,QAAS7E,IAEhC8E,WALS,SAKG1D,GACVA,EAAMpB,MAAQ,GACd4E,aAAaG,WAAW,WAG5BC,SACEC,kBAAA/D,EACAgE,WAAApD,EACAqD,WAAAtB,GAEFjC,SACE/G,QADO,SACEgH,GAEP,OAAO,IAAAuD,EAAAvH,EAAY,SAAAwH,GAEbT,aAAaU,QAAQ,UACvBzD,EAAQwB,OAAO,WAAYuB,aAAaU,QAAQ,UAChDzD,EAAQsB,SAAS,yBAA0BtB,EAAQT,MAAMpB,OACtDjC,KAAK,kBAAMsH,OAGdA,OAINvE,MAfO,SAeAe,EAASjB,GACd,OAAOjB,EAAImB,MAAMF,GACd7C,KAAK,SAAAC,GAGJ,OAFA6D,EAAQwB,OAAO,WAAYrF,EAASgC,OACpC6B,EAAQsB,SAAS,yBAA0BtB,EAAQT,MAAMpB,OAClDhC,EAASqC,WAGtBnF,OAvBO,SAuBC2G,GAGN,OAFAA,EAAQwB,OAAO,cACfxB,EAAQwB,OAAO,yBACR,GAETrC,UA5BO,SA4BIa,EAAS0D,GAClB,IAAMC,EAAW,IAAItG,SAErB,OADAsG,EAASrG,OAAO,OAAQoG,GACjB5F,EAAIqB,UAAUwE,OCzD3BlB,EAAA,EAAIC,IAAIkB,EAAA,GAER,IAAMC,EAAS,IAAID,EAAA,GACjBE,SAEIC,KAAM,IACN3I,KAAM,QACN4I,UAAW,kBAAMrI,EAAAW,EAAA,GAAAJ,KAAAP,EAAAsI,KAAA,iBAGjBF,KAAM,SACNG,SAAU,iBAGVH,KAAM,eACN3I,KAAM,QACN4I,UAAW,kBAAMrI,EAAAW,EAAA,GAAAJ,KAAAP,EAAAsI,KAAA,iBAGjBF,KAAM,oBACN3I,KAAM,aACN4I,UAAW,kBAAMrI,EAAAW,EAAA,GAAAJ,KAAAP,EAAAsI,KAAA,iBAGjBF,KAAM,mBACN3I,KAAM,YACN4I,UAAW,kBAAMrI,EAAAW,EAAA,GAAAJ,KAAAP,EAAAsI,KAAA,iBAGjBF,KAAM,iBACN3I,KAAM,UACN4I,UAAW,kBAAMrI,EAAAW,EAAA,GAAAJ,KAAAP,EAAAsI,KAAA,mBAKjBE,GAAiB,oBAAqB,kBAE5CN,EAAOO,cAAc,SAAC1J,EAAI2J,EAAMC,GAC9B,IAAMnG,EAAQuD,EAAMnC,MAAMpB,MACpBoG,EAAW7C,EAAMnC,MAAM+D,WAAWrB,YAAYxH,KAGpC,MAAZC,EAAGqJ,MAAiB5F,EAIpBA,GAAsB,UAAboG,GAAwBJ,EAAaK,SAAS9J,EAAGqJ,MAC5DO,EAAK,gBAELA,IANAA,EAAK,OAUT,IAAAG,EAAA,kEC/CAhC,EAAA,EAAIC,IAAIgC,EAAA1I,GAAW2I,OAASC,UAAW,oBACvCnC,EAAA,EAAIC,IAAImC,EAAA7I,GAAW8I,OACjBC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRzI,MAAO,UACP0I,KAAM,UACNC,QAAS,UACTC,QAAS,aAGX3C,EAAA,EAAI4C,OAAOC,eAAgB,EAG3B,IAAI7C,EAAA,GACF8C,GAAI,OACJ1B,OAAAY,EACA/C,QACA8D,YAAczM,IAAA2C,GACd+J,SAAU","file":"static/js/app.4b4745a895e0f6b20cc5.js","sourcesContent":["<template lang='pug'>\n  v-app(dark)\n\n    v-navigation-drawer(v-model='drawer' fixed app v-if='thisUser.role')\n      v-list\n        v-list-tile\n          v-btn(to='/admin/categories' flat v-if='thisUser.role === \"Admin\"') Рубрики\n        v-list-tile\n          v-btn(to='/admin/posts' flat) Новий запис\n        v-list-tile\n          v-btn(to='/admin/postsList' flat) Усі запис\n        v-list-tile\n          v-btn(to='/admin/authors' flat v-if='thisUser.role === \"Admin\"') Автори\n\n    v-toolbar(app)\n      v-toolbar-side-icon(@click.stop=\"drawer = !drawer\" v-if='thisUser.role')\n      v-toolbar-title\n        span.blue--text Info\n        span.red--text News \n        span | Адмінпанель\n      v-spacer\n      v-toolbar-title(v-if='thisUser') {{ thisUser.name }}\n      v-btn(@click.native='signOut' color='warning' v-if='thisUser.role') Вийти\n\n    v-content\n      v-slide-y-transition(mode=\"out-in\")\n        router-view\n\n    v-footer( app)\n      span &copy; 2018\n  </v-app>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nexport default {\n  data () {\n    return {\n      drawer: true\n    }\n  },\n\n  created () {\n    this.initApp()\n  },\n\n  computed: mapGetters('UsersStore', ['thisUser']),\n\n  methods: {\n    ...mapActions(['initApp', 'logOut']),\n    signOut () {\n      this.logOut()\n      this.$router.push('/')\n    }\n  },\n\n  watch: {\n    '$route': function () {\n      this.drawer = false\n    }\n  },\n\n  name: 'App'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"dark\"}},[(_vm.thisUser.role)?_c('v-navigation-drawer',{attrs:{\"fixed\":\"fixed\",\"app\":\"app\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',[_c('v-list-tile',[(_vm.thisUser.role === \"Admin\")?_c('v-btn',{attrs:{\"to\":\"/admin/categories\",\"flat\":\"flat\"}},[_vm._v(\"Рубрики\")]):_vm._e()],1),_c('v-list-tile',[_c('v-btn',{attrs:{\"to\":\"/admin/posts\",\"flat\":\"flat\"}},[_vm._v(\"Новий запис\")])],1),_c('v-list-tile',[_c('v-btn',{attrs:{\"to\":\"/admin/postsList\",\"flat\":\"flat\"}},[_vm._v(\"Усі запис\")])],1),_c('v-list-tile',[(_vm.thisUser.role === \"Admin\")?_c('v-btn',{attrs:{\"to\":\"/admin/authors\",\"flat\":\"flat\"}},[_vm._v(\"Автори\")]):_vm._e()],1)],1)],1):_vm._e(),_c('v-toolbar',{attrs:{\"app\":\"app\"}},[(_vm.thisUser.role)?_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}):_vm._e(),_c('v-toolbar-title',[_c('span',{staticClass:\"blue--text\"},[_vm._v(\"Info\")]),_c('span',{staticClass:\"red--text\"},[_vm._v(\"News \")]),_c('span',[_vm._v(\"| Адмінпанель\")])]),_c('v-spacer'),(_vm.thisUser)?_c('v-toolbar-title',[_vm._v(_vm._s(_vm.thisUser.name))]):_vm._e(),(_vm.thisUser.role)?_c('v-btn',{attrs:{\"color\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.signOut($event)}}},[_vm._v(\"Вийти\")]):_vm._e()],1),_c('v-content',[_c('v-slide-y-transition',{attrs:{\"mode\":\"out-in\"}},[_c('router-view')],1)],1),_c('v-footer',{attrs:{\"app\":\"app\"}},[_c('span',[_vm._v(\"© 2018\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a77c1cc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a77c1cc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\nconst categoriesApi = {\n\n  getAllCategories () {\n    return axios.get('/api/allCategories')\n      .then(response => response.data)\n      .catch(e => { console.error(e); return [] })\n  },\n\n  addNewCategory (newCategory) {\n    return axios.post('/api/addCategory', newCategory)\n      .then(response => { console.log(response); return response.data })\n      .catch(e => console.error(e))\n  },\n\n  editCategory (editedCategory) {\n    return axios.put('/api/editCategory', editedCategory)\n      .then(response => { console.log(response); return response.data })\n      .catch(e => console.error(e))\n  },\n\n  removeCategory (id) {\n    return axios.delete(`/api/removeCategory/${id}`)\n      .then(response => { console.log(response); return response.data })\n      .catch(e => console.error(e))\n  }\n\n}\nexport default categoriesApi\n\n\n\n// WEBPACK FOOTER //\n// ./src/Api/categoriesApi.js","import axios from 'axios'\nconst objectToFormData = (post) => {\n  console.log(post)\n  const fd = new FormData()\n  fd.append('title', post.title)\n  fd.append('shortcat', post.shortcat)\n  fd.append('picture', post.picture)\n  fd.append('views', post.views)\n  fd.append('content', post.content)\n  fd.append('categories', JSON.stringify(post.categories))\n  return fd\n}\nconst postsApi = {\n  getPostById (id) {\n    return axios.get(`/api/post/${id}`)\n      .then(response => response.data)\n      .catch(e => { console.error(e); return [] })\n  },\n  getAllPostsPreview (token) {\n    return axios.get('/api/postsAll', { headers: { token } })\n      .then(response => { console.log(response.data); return response.data })\n      .catch(e => { console.error(e); return [] })\n  },\n  addNewPost (post, token) {\n    return axios.post('/api/addNewPost', objectToFormData(post), { headers: { token } })\n      .then(res => res.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  },\n  editPost (post, id, token) {\n    return axios.put(`/api/editPost/${id}`, objectToFormData(post), { headers: { token } })\n      .then(res => res.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  },\n  removePost (id) {\n    return axios.delete(`/api/removePost/${id}`)\n      .then(res => res.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  }\n}\n\nexport default postsApi\n\n\n\n// WEBPACK FOOTER //\n// ./src/Api/postsApi.js","import axios from 'axios'\nimport categoriesApi from './categoriesApi'\nimport postsApi from './postsApi'\nimport usersApi from './usersApi'\n\nexport const Api = {\n  categoriesApi,\n  postsApi,\n  usersApi,\n  logIn (authData) {\n    return axios.post('/api/logIn', authData)\n      .then(response => response.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  },\n  logOut () {\n    return axios.post('/api/logOut')\n      .then(response => response.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  },\n  loadFiles (file) {\n    return axios.post('/api/loadFiles', file)\n      .then(response => response.data)\n      .catch(e => { throw new Error(e.response.error) })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Api/Api.js","import axios from 'axios'\nconst usersApi = {\n  getCurrentUser (token) {\n    return axios.get('/api/getCurrentUser', { headers: { token } })\n      .then(response => response.data)\n      .catch(() => { })\n  },\n  getAllUsers () {\n    return axios.get('/api/getAllUsers')\n      .then(response => response.data)\n      .catch(() => [])\n  },\n  createNewUser (userData) {\n    return axios.post('/api/createNewUser', userData)\n      .then(response => response.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  },\n  deleteAuthor (id) {\n    return axios.delete(`/api/deleteUser/${id}`)\n      .then(response => response.data)\n      .catch(e => { throw new Error(e.response.data.message) })\n  }\n}\n\nexport default usersApi\n\n\n\n// WEBPACK FOOTER //\n// ./src/Api/usersApi.js","import { Api } from './../../Api/Api'\nconst CategoriesStore = {\n  namespaced: true,\n  state: {\n    data: [],\n    selectedCategory: {\n      title: '',\n      link: '',\n      subcategories: []\n    }\n  },\n  getters: {\n    categories: ({ data }) => (data),\n    selectedCategory: ({ selectedCategory }) => (selectedCategory)\n  },\n  mutations: {},\n  actions: {\n    getAllCategories (context) {\n      return Api.categoriesApi.getAllCategories()\n        .then(response => {\n          context.state.data = response\n          console.log('get categories!', context.state.data)\n        })\n        .catch(e => console.error(e))\n    },\n    addNewCategory (context, newCategory) {\n      return Api.categoriesApi.addNewCategory(newCategory)\n        .then(response => {\n          console.log(response)\n          return response\n        })\n        .catch(e => console.error(e))\n    },\n    editCategory (context, editedCategory) {\n      return Api.categoriesApi.editCategory(editedCategory)\n        .then(response => {\n          console.log(response)\n          return response\n        })\n        .catch(e => console.error(e))\n    },\n    removeCategory (context, id) {\n      return Api.categoriesApi.removeCategory(id)\n        .then(response => {\n          console.log(response)\n          return response\n        })\n        .catch(e => console.error(e))\n    }\n  }\n}\nexport default CategoriesStore\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/categoriesStore.js","import { Api } from './../../Api/Api'\nimport { store } from '../index'\n\nconst CategoriesStore = {\n  namespaced: true,\n  state: {\n    postsList: [],\n    selectedPost: {\n      title: '',\n      picture: null,\n      shortcat: '',\n      content: '',\n      views: 0,\n      categories: {\n        title: '',\n        link: '',\n        subcategory: {\n          title: '',\n          link: ''\n        }\n      },\n      _id: ''\n    },\n    edit: false\n  },\n  getters: {\n    posts: ({ postsList }) => (postsList),\n    selectedPost: ({ selectedPost }) => (selectedPost),\n    postImage (state) {\n      const img = state.selectedPost.picture\n      if (!img) return ''\n      if (img instanceof File) {\n        return `${URL.createObjectURL(img)}`\n      } else {\n        return img\n      }\n    },\n    postCategory (state) {\n      return {\n        title: state.selectedPost.categories.title,\n        link: state.selectedPost.categories.link\n      }\n    },\n    postSubcategory (state) {\n      return {\n        title: state.selectedPost.categories.subcategory.title,\n        link: state.selectedPost.categories.subcategory.link\n      }\n    }\n  },\n  mutations: {\n    updateSelectedPost (state, update) {\n      state.selectedPost = update\n    },\n    setSelectedPost (state, post) {\n      state.selectedPost = post\n    },\n    setPostsList (state, posts) {\n      state.postsList = posts\n    },\n    resetPost (state) {\n      state.selectedPost = {\n        title: '',\n        picture: null,\n        shortcat: '',\n        content: '',\n        views: 0,\n        categories: {\n          title: '',\n          link: '',\n          subcategory: {\n            title: '',\n            link: ''\n          }\n        },\n        _id: ''\n      }\n      state.edit = false\n    }\n  },\n  actions: {\n    submitPost ({ dispatch, state }) {\n      if (state.edit) {\n        return dispatch('editPost')\n          .then(response => {\n            state.edit = false\n            return response\n          })\n          .catch(e => { throw new Error(e.message) })\n      } else {\n        return dispatch('addNewPost')\n          .then(response => response)\n          .catch(e => { throw new Error(e.message) })\n      }\n    },\n    getPostById ({ commit }, id) {\n      return Api.postsApi.getPostById(id)\n        .then(response => {\n          commit('setSelectedPost', response)\n          return true\n        })\n        .catch(e => { throw new Error(e.message) })\n    },\n    getAllPostsPreview ({ commit }) {\n      return Api.postsApi.getAllPostsPreview(store.state.token)\n        .then(response => commit('setPostsList', response))\n        .catch(e => { throw new Error(e.message) })\n    },\n    addNewPost ({ state, commit }) {\n      return Api.postsApi.addNewPost(state.selectedPost, store.state.token)\n        .then(response => {\n          commit('resetPost')\n          return response\n        })\n        .catch(e => { throw new Error(e.message) })\n    },\n    editPost ({ state, commit }) {\n      return Api.postsApi.editPost(state.selectedPost, state.selectedPost._id, store.state.token)\n        .then(response => {\n          commit('resetPost')\n          return response\n        })\n        .catch(e => { throw new Error(e.message) })\n    },\n    removePost (context, id) {\n      return Api.postsApi.removePost(id)\n        .then(response => response)\n        .catch(e => { throw new Error(e.message) })\n    },\n    choosePost ({ dispatch, state }, postId) {\n      state.edit = true\n      return dispatch('getPostById', postId)\n    }\n  }\n}\nexport default CategoriesStore\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/postsStore.js","import { Api } from './../../Api/Api'\nconst UsersStore = {\n  namespaced: true,\n  state: {\n    data: [],\n    currentUser: {\n      name: '',\n      role: '',\n      login: '',\n      _id: null\n    }\n  },\n  getters: {\n    users (state) {\n      return state.data\n    },\n    thisUser (state) {\n      return state.currentUser\n    }\n  },\n  mutations: {\n    clearUser (state) {\n      state.currentUser = {\n        name: '',\n        role: '',\n        login: '',\n        _id: null\n      }\n    },\n    setUser (state, user) {\n      state.currentUser = user\n    }\n  },\n  actions: {\n    getThisUser (context, token) {\n      console.log('getThisUser')\n      return Api.usersApi.getCurrentUser(token)\n        .then(user => context.commit('setUser', user))\n        .catch(e => console.error(e.message))\n    },\n    getAllUsers (context) {\n      console.log('getAllUsers')\n      return Api.usersApi.getAllUsers()\n        .then(users => { context.state.data = users })\n        .catch(e => console.error(e.message))\n    },\n    createAuthor (context, userData) {\n      return Api.usersApi.createNewUser(userData)\n        .then(response => {\n          context.dispatch('getAllUsers')\n          return response\n        })\n        .catch(e => { throw new Error(e.message) })\n    },\n    deleteAuthor ({ dispatch }, id) {\n      return Api.usersApi.deleteAuthor(id)\n        .then(response => {\n          dispatch('getAllUsers')\n          return response\n        })\n        .catch(e => { throw new Error(e.message) })\n    }\n  }\n}\nexport default UsersStore\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/usersStore.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { Api } from '../Api/Api'\n//  Import modules\nimport СategoriesStore from './modules/categoriesStore'\nimport PostsStore from './modules/postsStore'\nimport UsersStore from './modules/usersStore'\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  state: {\n    token: '',\n    validatorRules: [ v => !!v || 'Поле обовʼязкове!' ]\n  },\n  mutations: {\n    setToken (state, token) {\n      state.token = token\n      localStorage.setItem('token', token)\n    },\n    clearToken (state) {\n      state.token = ''\n      localStorage.removeItem('token')\n    }\n  },\n  modules: {\n    СategoriesStore,\n    PostsStore,\n    UsersStore\n  },\n  actions: {\n    initApp (context) {\n      // prevently, search token in localStorage\n      return new Promise(resolve => {\n        // if token exist - execute get user\n        if (localStorage.getItem('token')) {\n          context.commit('setToken', localStorage.getItem('token'))\n          context.dispatch('UsersStore/getThisUser', context.state.token)\n            .then(() => resolve())\n        } else {\n          // else - just resolve\n          resolve()\n        }\n      })\n    },\n    logIn (context, userData) {\n      return Api.logIn(userData)\n        .then(response => {\n          context.commit('setToken', response.token)\n          context.dispatch('UsersStore/getThisUser', context.state.token)\n          return response.message\n        })\n    },\n    logOut (context) {\n      context.commit('clearToken')\n      context.commit('UsersStore/clearUser')\n      return true\n    },\n    loadFiles (context, blob) {\n      const formData = new FormData()\n      formData.append('file', blob)\n      return Api.loadFiles(formData)\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport { store } from '../store'\nVue.use(Router)\n\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Index',\n      component: () => import('@/components/indexView')\n    },\n    {\n      path: '/admin',\n      redirect: '/admin/posts'\n    },\n    {\n      path: '/admin/posts',\n      name: 'Posts',\n      component: () => import('@/components/postsView')\n    },\n    {\n      path: '/admin/categories',\n      name: 'Categories',\n      component: () => import('@/components/categoriesView')\n    },\n    {\n      path: '/admin/postsList',\n      name: 'PostsList',\n      component: () => import('@/components/postsListView')\n    },\n    {\n      path: '/admin/authors',\n      name: 'Authors',\n      component: () => import('@/components/authorsView')\n    }\n  ]\n})\n\nconst privatePages = [ '/admin/categories', '/admin/authors' ]\n\nrouter.beforeResolve((to, from, next) => {\n  const token = store.state.token\n  const userRole = store.state.UsersStore.currentUser.role\n\n  // prevent not authorized access\n  if (to.path !== '/' && !token) {\n    next('/')\n  } else\n  // deny access for no-admin users to private pages\n  if (token && userRole !== 'Admin' && privatePages.includes(to.path)) {\n    next('/admin/posts')\n  } else {\n    next()\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport { store } from './store'\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\nimport wysiwyg from 'vue-wysiwyg'\nimport 'vue-wysiwyg/dist/vueWysiwyg.css'\nVue.use(wysiwyg, { image: { uploadURL: '/api/loadFiles' } })\nVue.use(Vuetify, { theme: {\n  primary: '#ee44aa',\n  secondary: '#424242',\n  accent: '#82B1FF',\n  error: '#FF5252',\n  info: '#2196F3',\n  success: '#4CAF50',\n  warning: '#FFC107'\n}})\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}