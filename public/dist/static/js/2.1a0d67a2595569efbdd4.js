webpackJsonp([2],{ayL8:function(t,e){},yoeF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Dd8w"),a=s.n(o),n=s("NYxO"),r=function(t){var e=new Date(t);return(e.getDate()<10?"0"+e.getDate():e.getDate())+"."+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"."+e.getFullYear()+" - "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},i={created:function(){var t=this;this.getAllPostsPreview().then(function(){t.loaded=!0})},data:function(){return{showSnackbar:!1,info:"",loaded:!1,search:""}},methods:a()({},Object(n.b)("PostsStore",["getAllPostsPreview","choosePost","removePost"]),{toDateString:r,categoryTitle:function(t){var e=t.title;return t.subcategory&&t.subcategory.title&&(e+=" / "+t.subcategory.title),e},selectPost:function(t){var e=this;this.choosePost(t).then(function(){return e.$router.push("/admin/posts")})},deletePost:function(t){var e=this;this.removePost(t).then(function(t){e.info=t.message,e.showSnackbar=!0,e.getAllPostsPreview()}).catch(function(t){e.info=t.message,e.showSnackbar=!0})}}),computed:a()({},Object(n.c)("PostsStore",["posts"]),{computedPosts:function(){var t=this;return this.search?this.posts.filter(function(e){return-1!==e.title.toUpperCase().indexOf(t.search.toUpperCase(),0)}):this.posts}})},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-subheader",{staticClass:"headline"},[t._v("Усі записи")]),s("v-alert",{attrs:{value:!t.loaded,type:"info"}},[t._v("Завантажується...")]),s("v-alert",{attrs:{value:t.loaded&&!t.posts.length,type:"info"}},[t._v("Записів немає")]),t.posts.length?s("v-text-field",{attrs:{label:"Пошук по назві запису"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t._l(t.computedPosts,function(e){return[s("v-card",[s("v-card-media",{attrs:{src:"http://localhost:3000"+e.picture,height:"150px"}},[s("v-subheader",{staticClass:"title"},[t._v(t._s(e.title))])],1),s("v-card-text",[s("v-subheader",[t._v("Рубрика: "+t._s(t.categoryTitle(e.categories)))]),s("p",[t._v(t._s(e.shortcat))]),s("div",[s("v-icon",{attrs:{left:"left"}},[t._v("remove_red_eye")]),s("span",{staticClass:"pl-3"},[t._v(t._s(e.views))]),s("v-icon",{staticClass:"ml-3",attrs:{left:"left"}},[t._v("person")]),s("span",{staticClass:"pl-3"},[t._v(t._s(e.author))]),s("v-icon",{staticClass:"ml-3",attrs:{left:"left"}},[t._v("alarm")]),s("span",{staticClass:"pl-3"},[t._v(t._s(t.toDateString(+e.date)))])],1)],1),s("v-card-actions",[s("v-btn",{attrs:{icon:"icon",color:"green"},on:{click:function(s){t.selectPost(e._id)}}},[s("v-icon",[t._v("edit")])],1),s("v-btn",{attrs:{icon:"icon",color:"pink"},on:{click:function(s){t.deletePost(e._id)}}},[s("v-icon",[t._v("delete")])],1)],1)],1),s("v-divider")]}),s("v-snackbar",{attrs:{top:"top",right:"right"},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[t._v(t._s(t.info)),s("v-btn",{attrs:{flat:"flat",color:"pink"},nativeOn:{click:function(e){t.showSnackbar=!1}}},[t._v("Закрити")])],1)],2)},staticRenderFns:[]};var l=s("VU/8")(i,c,!1,function(t){s("ayL8")},null,null);e.default=l.exports}});
//# sourceMappingURL=2.1a0d67a2595569efbdd4.js.map