webpackJsonp([0],{"5zde":function(e,t,i){i("zQR9"),i("qyJz"),e.exports=i("FeBl").Array.from},BO1k:function(e,t,i){e.exports={default:i("fxRn"),__esModule:!0}},Gu7T:function(e,t,i){"use strict";t.__esModule=!0;var n,s=i("c/Tr"),o=(n=s)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,o.default)(e)}},VZ3N:function(e,t){},"c/Tr":function(e,t,i){e.exports={default:i("5zde"),__esModule:!0}},fBQ2:function(e,t,i){"use strict";var n=i("evD5"),s=i("X8DO");e.exports=function(e,t,i){t in e?n.f(e,t,s(0,i)):e[t]=i}},fxRn:function(e,t,i){i("+tPU"),i("zQR9"),e.exports=i("g8Ux")},g8Ux:function(e,t,i){var n=i("77Pl"),s=i("3fs2");e.exports=i("FeBl").getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},i47K:function(e,t){},qyJz:function(e,t,i){"use strict";var n=i("+ZMJ"),s=i("kM2E"),o=i("sB3e"),a=i("msXi"),r=i("Mhyx"),l=i("QRG4"),c=i("fBQ2"),u=i("3fs2");s(s.S+s.F*!i("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,s,f,d=o(e),p="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,h=void 0!==g,b=0,m=u(d);if(h&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==m||p==Array&&r(m))for(i=new p(t=l(d.length));t>b;b++)c(i,b,h?g(d[b],b):d[b]);else for(f=m.call(d),i=new p;!(s=f.next()).done;b++)c(i,b,h?a(f,g,[s.value,b],!0):s.value);return i.length=b,i}})},uMWv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),o=i("Gu7T"),a=i.n(o),r=i("BO1k"),l=i.n(r),c={props:{value:{type:[Array,String]},accept:{type:String,default:"*"},label:{type:String,default:"choose_file"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},data:function(){return{filename:""}},watch:{value:function(e){this.filename=e}},mounted:function(){this.filename=this.value},methods:{getFormData:function(e){var t=[],i=!0,n=!1,s=void 0;try{for(var o,a=l()(e);!(i=(o=a.next()).done);i=!0){var r=o.value,c=new FormData;c.append("data",r,r.name),t.push(c)}}catch(e){n=!0,s=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw s}}return t},onFocus:function(){this.disabled||this.$refs.fileInput.click()},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t?t.length>0?this.filename=[].concat(a()(t)).map(function(e){return e.name}).join(", "):this.filename=null:this.filename=e.target.value.split("\\").pop(),this.$emit("input",this.filename),this.$emit("file",t[0])}}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-text-field",{ref:"fileTextField",attrs:{"prepend-icon":"attach_file","single-line":"",label:e.label,required:e.required,disabled:e.disabled},nativeOn:{click:function(t){return e.onFocus(t)}},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}),e._v(" "),i("input",{ref:"fileInput",attrs:{type:"file",accept:e.accept,multiple:e.multiple,disabled:e.disabled},on:{change:e.onFileChange}})],1)},staticRenderFns:[]};var f=i("VU/8")(c,u,!1,function(e){i("i47K")},"data-v-08bff18f",null).exports,d=i("NYxO"),p={components:{appFileInput:f},created:function(){this.getAllCategories()},data:function(){return{valid:!1,submitting:!1,showSnackbar:!1,info:""}},methods:s()({},Object(d.b)("СategoriesStore",["getAllCategories"]),Object(d.b)("PostsStore",["submitPost"]),Object(d.d)("PostsStore",["updateSelectedPost","resetPost"]),{submitForm:function(){var e=this;this.submitPost().then(function(t){e.submitting=!1,e.showInfo(t)}).catch(function(t){e.submitting=!1,e.showInfo(t)})},chooseCategory:function(e){this.selectedPost.categories.link=e?this.categories.find(function(t){return t.title===e}).link:""},chooseSubcategory:function(e){var t=this;if(e){var i=this.categories.find(function(e){return e.title===t.selectedPost.categories.title}).subcategories;this.selectedPost.categories.subcategory.link=i.find(function(t){return t.title===e}).link}else this.selectedPost.categories.subcategory.link=""},subcategoriesOptions:function(e){var t=[{value:"",text:"Без підрубрики"}];if(e){var i=this.categories.find(function(t){return t.link===e.link});i&&i.subcategories&&i.subcategories.map(function(e){t.push({value:e.title,text:e.title})})}return t},showInfo:function(e){this.showSnackbar=!0,this.info=e.message}}),computed:s()({},Object(d.c)("PostsStore",["selectedPost","postImage","postCategory","postSubcategory"]),Object(d.c)("СategoriesStore",["categories"]),Object(d.e)(["validatorRules"]),{categoriesOptions:function(){var e=[{value:"",text:"Не обрано"}];return this.categories&&this.categories.map(function(t){e.push({value:t.title,text:t.title})}),e}}),watch:{"selectedPost.categories.title":function(){this.selectedPost.categories.subcategory={link:"",title:""}},selectedPost:{handler:function(e){this.updateSelectedPost(e)},deep:!0}}},v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{app:"app"}},[i("v-form",{ref:"postForm",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{label:"Назва",required:"required",rules:e.validatorRules},model:{value:e.selectedPost.title,callback:function(t){e.$set(e.selectedPost,"title",t)},expression:"selectedPost.title"}}),i("app-file-input",{attrs:{label:"Постер",required:!0,accept:".jpg, .jpeg, .png"},on:{file:function(t){e.selectedPost.picture=t}}}),e.postImage?i("div",[i("img",{staticClass:"preview",attrs:{src:e.postImage,size:"200",tile:!0}})]):e._e(),i("v-select",{attrs:{items:e.categoriesOptions,label:"Рубрика",required:"required",rules:e.validatorRules},on:{change:e.chooseCategory},model:{value:e.selectedPost.categories.title,callback:function(t){e.$set(e.selectedPost.categories,"title",t)},expression:"selectedPost.categories.title"}}),i("v-select",{attrs:{items:e.subcategoriesOptions(e.selectedPost.categories),label:"Підрубрика"},on:{change:e.chooseSubcategory},model:{value:e.selectedPost.categories.subcategory.title,callback:function(t){e.$set(e.selectedPost.categories.subcategory,"title",t)},expression:"selectedPost.categories.subcategory.title"}}),i("wysiwyg",{model:{value:e.selectedPost.content,callback:function(t){e.$set(e.selectedPost,"content",t)},expression:"selectedPost.content"}}),i("v-text-field",{attrs:{"multi-line":"multi-line",label:"Коротке описання",required:"required",rules:e.validatorRules},model:{value:e.selectedPost.shortcat,callback:function(t){e.$set(e.selectedPost,"shortcat",t)},expression:"selectedPost.shortcat"}}),i("v-btn",{attrs:{type:"submit",disabled:!e.valid||e.submitting||!e.selectedPost.content}},[e._v("Опублікувати")]),i("v-btn",{nativeOn:{click:function(t){return e.resetPost(t)}}},[e._v("Очистити")])],1),i("v-snackbar",{attrs:{top:"top",right:"right"},model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e._v(e._s(e.info)),i("v-btn",{attrs:{flat:"flat",color:"pink"},nativeOn:{click:function(t){e.showSnackbar=!1}}},[e._v("Закрити")])],1)],1)},staticRenderFns:[]};var g=i("VU/8")(p,v,!1,function(e){i("VZ3N")},null,null);t.default=g.exports}});
//# sourceMappingURL=0.28e6be2a1a253ccf59c9.js.map